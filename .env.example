# =============================================================================
# x0 - Payment Infrastructure for AI Agents
# Environment Configuration
# =============================================================================
#
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# REQUIRED variables are marked with [REQUIRED]
# Generate secrets with: openssl rand -hex 32
#
# =============================================================================

# -----------------------------------------------------------------------------
# Security [REQUIRED]
# -----------------------------------------------------------------------------

# JWT secret for admin authentication (minimum 32 characters)
# Generate with: openssl rand -hex 32
ADMIN_JWT_SECRET=

# Master encryption key (for encrypting sensitive data at rest)
# Generate with: openssl rand -hex 32
MASTER_KEY=

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------

# PostgreSQL connection string
# For Docker: postgres://x0:x0password@postgres:5432/x0
# For local:  postgres://x0:x0password@localhost:5432/x0
DATABASE_URL=postgres://x0:x0password@postgres:5432/x0

# PostgreSQL password (used by docker-compose)
POSTGRES_PASSWORD=x0password

# Redis connection string
# For Docker: redis://redis:6379
# For local:  redis://localhost:6379
REDIS_URL=redis://redis:6379

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Server port
PORT=8080
X0_PORT=8080

# Logging level (trace, debug, info, warn, error)
RUST_LOG=info,sqlx=warn,tower_http=info

# -----------------------------------------------------------------------------
# Solana Configuration [REQUIRED for payments]
# -----------------------------------------------------------------------------

# Primary RPC endpoint
# Devnet (testing): https://api.devnet.solana.com
# Mainnet (production): Use Helius, QuickNode, or Triton
SOLANA_RPC_URL=https://api.devnet.solana.com

# Backup RPC endpoints (optional, for resilience)
SOLANA_RPC_URL_2=
SOLANA_RPC_URL_3=

# -----------------------------------------------------------------------------
# Fee Payer Keypairs [REQUIRED for gasless transactions]
# -----------------------------------------------------------------------------
# Format: JSON array [1,2,3,...] or base58 encoded string
# Generate with: solana-keygen new --no-bip39-passphrase -o keypair.json

# Devnet fee payer (for test mode)
DEVNET_FEE_PAYER_KEYPAIR=
DEVNET_ESCROW_KEYPAIR=

# Mainnet fee payer (for live mode)
MAINNET_FEE_PAYER_KEYPAIR=
MAINNET_ESCROW_KEYPAIR=

# -----------------------------------------------------------------------------
# WebAuthn / Passkey Configuration
# -----------------------------------------------------------------------------

# Relying Party ID (your domain without protocol)
# Development: localhost
# Production: yourdomain.com
WEBAUTHN_RP_ID=localhost

# Relying Party Origin (full URL including protocol)
# Development: http://localhost:8080
# Production: https://yourdomain.com
WEBAUTHN_RP_ORIGIN=http://localhost:8080

# -----------------------------------------------------------------------------
# Lit Protocol (for production key management)
# -----------------------------------------------------------------------------

# Network: datil-dev (testnet), datil (mainnet)
LIT_NETWORK=datil-dev

# Capacity credit token ID (for rate limiting)
LIT_CAPACITY_CREDIT_TOKEN_ID=

# -----------------------------------------------------------------------------
# Optional Features
# -----------------------------------------------------------------------------

# Attestation signer for cryptographic spending proofs
# Generate with: openssl rand -hex 32
ATTESTATION_PRIVATE_KEY=

# Enterprise license key
X0_LICENSE_KEY=

# Build metadata (set by CI/CD)
BUILD_TIMESTAMP=
GIT_HASH=
X0_VERSION=latest
